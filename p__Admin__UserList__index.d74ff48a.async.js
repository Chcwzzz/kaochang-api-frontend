"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[568],{51042:function(W,Z,u){var R=u(1413),k=u(67294),U=u(42110),l=u(91146),b=function(M,v){return k.createElement(l.Z,(0,R.Z)((0,R.Z)({},M),{},{ref:v,icon:U.Z}))};b.displayName="PlusOutlined",Z.Z=k.forwardRef(b)},96759:function(W,Z,u){u.r(Z),u.d(Z,{default:function(){return ae}});var R=u(19632),k=u.n(R),U=u(15009),l=u.n(U),b=u(97857),j=u.n(b),M=u(99289),v=u.n(M),x=u(5574),A=u.n(x),G=u(51042),H=u(61192),ce=u(35312),c=u(2453),V=u(86738),Y=u(4393),N=u(14726),P=u(67294),J=[{title:"id",dataIndex:"id",valueType:"index",hideInTable:!0,key:"id"},{title:"\u540D\u79F0",dataIndex:"userName",key:"userName",width:"lg",colProps:{span:24}},{title:"\u7528\u6237\u8D26\u53F7",dataIndex:"userAccount",key:"userAccount",formItemProps:{rules:[function(){return{validator:function(m,d){return!d||d.length<0?Promise.reject(new Error("\u7528\u6237\u8D26\u53F7\u4E3A\u5FC5\u586B\u9879")):!d||d.length>0&&d.length<4?Promise.reject(new Error("\u7528\u6237\u8D26\u53F7\u957F\u5EA6\u4E0D\u80FD\u5C11\u4E8E4\u4F4D")):Promise.resolve()},required:!0}}]},width:"lg",colProps:{span:24}},{title:"\u5BC6\u7801",key:"userPassword",dataIndex:"userPassword",width:"lg",colProps:{span:24},formItemProps:{rules:[function(){return{validator:function(m,d){return!d||d.length<0?Promise.reject(new Error("\u7528\u6237\u5BC6\u7801\u4E3A\u5FC5\u586B\u9879")):!d||d.length>0&&d.length<8?Promise.reject(new Error("\u7528\u6237\u5BC6\u7801\u957F\u5EA6\u4E0D\u80FD\u5C11\u4E8E8\u4F4D")):Promise.resolve()},required:!0}}]}},{title:"\u89D2\u8272/\u6743\u9650",dataIndex:"userRole",valueType:"radio",key:"userRole",valueEnum:{admin:{text:"\u7BA1\u7406\u5458"},user:{text:"\u666E\u901A\u7528\u6237"}}}],Q=[{title:"id",dataIndex:"id",valueType:"index",hideInTable:!0,key:"id"},{title:"\u540D\u79F0",dataIndex:"userName",key:"userName",width:"lg",colProps:{span:24}},{title:"\u89D2\u8272/\u6743\u9650",dataIndex:"userRole",valueType:"radio",key:"userRole",valueEnum:{admin:{text:"\u7BA1\u7406\u5458"},user:{text:"\u666E\u901A\u7528\u6237"}}},{title:"\u5BC6\u7801",key:"userPassword",dataIndex:"userPassword",width:"lg",colProps:{span:24},formItemProps:{rules:[function(){return{validator:function(m,d){return d&&d.length<0?Promise.reject(new Error("\u7528\u6237\u5BC6\u7801\u4E3A\u5FC5\u586B\u9879")):Promise.resolve()}}}]}}],X=[{dataIndex:"id",valueType:"index",hideInTable:!0,key:"id"},{title:"\u6635\u79F0",dataIndex:"userName",copyable:!0,ellipsis:!0,key:"userName"},{title:"\u8D26\u53F7",dataIndex:"userAccount",valueType:"text",copyable:!0,key:"userAccount"},{title:"\u5934\u50CF",dataIndex:"userAvatar",valueType:"image",key:"userAvatar",search:!1},{title:"SecretKey",dataIndex:"secretKey",valueType:"textarea",copyable:!0,ellipsis:!0,key:"secretKey",search:!1},{title:"AccessKey",dataIndex:"accessKey",valueType:"textarea",copyable:!0,ellipsis:!0,key:"accessKey",search:!1},{title:"\u89D2\u8272/\u6743\u9650",dataIndex:"userRole",key:"userRole",filters:!0,onFilter:!0,valueEnum:{admin:{text:"\u7BA1\u7406\u5458",status:"success"},user:{text:"\u666E\u901A\u7528\u6237",status:"default"}}},{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updateTime",valueType:"dateTime",key:"updateTime",search:!1},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTime",valueType:"dateTime",key:"createTime",search:!1}],q=X,T=u(63684),_=u(72645),p=u(85893),ee=function(m){var d=(0,P.useRef)(),B=m.width,I=m.open,K=m.onOpenChange,O=m.title,C=m.value,g=m.onSubmit,D=m.columns,S=m.size;return(0,P.useEffect)(function(){var w=C==null?void 0:C.id;if(!w){var h;(h=d.current)===null||h===void 0||h.resetFields()}if(d&&w){var f;(f=d.current)===null||f===void 0||f.setFieldsValue(C)}},[C]),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(_.Z,{width:B,title:O,size:S,open:I(),onOpenChange:K,formRef:d,autoFocusFirstInput:!0,layoutType:"ModalForm",onFinish:function(){var w=v()(l()().mark(function h(f){return l()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:g==null||g(f);case 1:case"end":return y.stop()}},h)}));return function(h){return w.apply(this,arguments)}}(),grid:!0,rowProps:{gutter:[16,16]},colProps:{span:12},submitter:{render:function(h,f){return[].concat(k()(f),[(0,p.jsx)(N.ZP,{onClick:function(){var y;(y=d.current)===null||y===void 0||y.resetFields()},children:"\u91CD\u7F6E"},"extra-reset")])}},columns:D})})},L=ee,re=function(){var m=(0,P.useState)(!1),d=A()(m,2),B=d[0],I=d[1],K=(0,P.useState)(!1),O=A()(K,2),C=O[0],g=O[1],D=(0,P.useState)(!1),S=A()(D,2),w=S[0],h=S[1],f=(0,P.useRef)(),$=(0,P.useState)(),y=A()($,2),E=y[0],z=y[1],ne=function(){var i=v()(l()().mark(function s(t){var r,o;return l()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=c.ZP.loading("\u6B63\u5728\u6DFB\u52A0"),n.prev=1,n.next=4,(0,T.T4)(j()({},t));case 4:if(o=n.sent,!(o.data&&o.code===0)){n.next=9;break}return r(),c.ZP.success("\u6DFB\u52A0\u6210\u529F"),n.abrupt("return",!0);case 9:n.next=16;break;case 11:return n.prev=11,n.t0=n.catch(1),r(),c.ZP.error("\u6DFB\u52A0\u5931\u8D25! "+n.t0.message),n.abrupt("return",!1);case 16:case"end":return n.stop()}},s,null,[[1,11]])}));return function(t){return i.apply(this,arguments)}}(),te=function(){var i=v()(l()().mark(function s(t){var r,o,a;return l()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.ZP.loading("\u89E3\u5C01\u4E2D"),t){e.next=3;break}return e.abrupt("return",!0);case 3:return e.prev=3,e.next=6,(0,T.FF)({id:t.id});case 6:return o=e.sent,r(),o.data&&(c.ZP.success("\u89E3\u5C01\u6210\u529F"),(a=f.current)===null||a===void 0||a.reload()),e.abrupt("return",!0);case 12:return e.prev=12,e.t0=e.catch(3),r(),c.ZP.error(e.t0.message),e.abrupt("return",!1);case 17:case"end":return e.stop()}},s,null,[[3,12]])}));return function(t){return i.apply(this,arguments)}}(),ue=function(){var i=v()(l()().mark(function s(t){var r,o,a;return l()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.ZP.loading("\u5C01\u53F7\u4E2D"),t){e.next=3;break}return e.abrupt("return",!0);case 3:return e.prev=3,e.next=6,(0,T.Kk)({id:t.id});case 6:return o=e.sent,r(),o.data&&(c.ZP.success("\u5C01\u53F7\u6210\u529F"),(a=f.current)===null||a===void 0||a.reload()),e.abrupt("return",!0);case 12:return e.prev=12,e.t0=e.catch(3),r(),c.ZP.error(e.t0.message),e.abrupt("return",!1);case 17:case"end":return e.stop()}},s,null,[[3,12]])}));return function(t){return i.apply(this,arguments)}}(),se=function(){var i=v()(l()().mark(function s(t){var r,o;return l()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=c.ZP.loading("\u4FEE\u6539\u4E2D"),n.prev=1,n.next=4,(0,T.dj)(j()({id:E==null?void 0:E.id},t));case 4:if(o=n.sent,!(o.data&&o.code===0)){n.next=9;break}return r(),c.ZP.success("\u4FEE\u6539\u6210\u529F"),n.abrupt("return",!0);case 9:n.next=16;break;case 11:return n.prev=11,n.t0=n.catch(1),r(),c.ZP.error("\u4FEE\u6539\u5931\u8D25"+n.t0.message),n.abrupt("return",!1);case 16:case"end":return n.stop()}},s,null,[[1,11]])}));return function(t){return i.apply(this,arguments)}}(),le=function(){var i=v()(l()().mark(function s(t){var r,o,a;return l()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.ZP.loading("\u6B63\u5728\u5220\u9664"),t){e.next=3;break}return e.abrupt("return",!0);case 3:return e.prev=3,e.next=6,(0,T.Hh)({id:t.id});case 6:return o=e.sent,r(),o.data&&(c.ZP.success("\u5220\u9664\u6210\u529F"),(a=f.current)===null||a===void 0||a.reload()),e.abrupt("return",!0);case 12:return e.prev=12,e.t0=e.catch(3),r(),c.ZP.error("\u5220\u9664\u5931\u8D25",e.t0.message),e.abrupt("return",!1);case 17:case"end":return e.stop()}},s,null,[[3,12]])}));return function(t){return i.apply(this,arguments)}}(),ie=function(){var i=v()(l()().mark(function s(){return l()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,le(E);case 2:case"end":return r.stop()}},s)}));return function(){return i.apply(this,arguments)}}(),de=function(){c.ZP.success("\u53D6\u6D88\u6210\u529F")},oe=[].concat(k()(q),[{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",render:function(s,t){return[(0,p.jsx)("a",{onClick:function(){z(t),g(!0)},children:"\u4FEE\u6539"},"update"),t.status===1?(0,p.jsx)("a",{type:"text",onClick:function(){te(t)},children:"\u89E3\u5C01"},"normal"):null,t.status===0?(0,p.jsx)("a",{style:{color:"red"},type:"text",onClick:function(){ue(t)},children:"\u5C01\u53F7"},"ban"):null,(0,p.jsx)(V.Z,{title:"\u8BF7\u786E\u8BA4\u662F\u5426\u5220\u9664\u8BE5\u7528\u6237!",onConfirm:ie,onCancel:de,okText:"Yes",cancelText:"No",children:(0,p.jsx)("a",{style:{color:"red"},onClick:v()(l()().mark(function r(){return l()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:z(t);case 1:case"end":return a.stop()}},r)})),children:"\u5220\u9664"},"Remove")},"Delete")]}}]);return(0,p.jsxs)(Y.Z,{children:[(0,p.jsx)(H.Z,{headerTitle:"\u7528\u6237\u7BA1\u7406",actionRef:f,rowKey:"user",loading:w,search:{labelWidth:120},toolBarRender:function(){return[(0,p.jsxs)(N.ZP,{type:"primary",onClick:function(){I(!0)},children:[(0,p.jsx)(G.Z,{})," \u65B0\u5EFA"]},"primary")]},pagination:{defaultPageSize:10},request:function(){var i=v()(l()().mark(function s(t){var r;return l()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return h(!0),a.next=3,(0,T.D1)(j()({},t));case 3:if(r=a.sent,!r.data){a.next=9;break}return h(!1),a.abrupt("return",{data:r.data.records||[],success:!0,total:r.data.total});case 9:return a.abrupt("return",{data:[],success:!1,total:0});case 10:case"end":return a.stop()}},s)}));return function(s){return i.apply(this,arguments)}}(),columns:oe}),(0,p.jsx)(L,{title:"\u6DFB\u52A0\u7528\u6237",value:{},open:function(){return B},onOpenChange:I,onSubmit:function(){var i=v()(l()().mark(function s(t){var r;return l()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ne(t);case 2:r=a.sent,r&&(I(!1),f.current&&f.current.reload());case 4:case"end":return a.stop()}},s)}));return function(s){return i.apply(this,arguments)}}(),onCancel:function(){return I(!1)},columns:J,width:"480px",size:"large"}),(0,p.jsx)(L,{title:"\u4FEE\u6539\u7528\u6237\u4FE1\u606F",open:function(){return C},value:E,onOpenChange:g,onSubmit:function(){var i=v()(l()().mark(function s(t){var r;return l()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,se(t);case 2:r=a.sent,r&&(g(!1),f.current&&f.current.reload());case 4:case"end":return a.stop()}},s)}));return function(s){return i.apply(this,arguments)}}(),onCancel:function(){return g(!1)},columns:Q,width:"480px",size:"large"})]})},ae=re}}]);
