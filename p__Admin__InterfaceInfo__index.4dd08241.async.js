"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[169],{61975:function(ae,F,r){var K=r(97857),d=r.n(K),G=r(19632),t=r.n(G),V=r(5574),g=r.n(V),I=r(88280),_=r(67294),B=r(85893),x=function(Z){var O=Z.value,Y=Z.onChange,m=Z.defaultNewColumn,ee=Z.column,N=(0,_.useState)([]),L=g()(N,2),y=L[0],W=L[1],c=(0,_.useState)(function(){return y.map(function(l){return l.id})}),J=g()(c,2),z=J[0],Q=J[1],$=function(v){var n=t()(v);W(n);var X=(n==null?void 0:n.map(function(re){return re.id}))||[];Q(X)};(0,_.useEffect)(function(){if(O)if(typeof O=="string"){var l=JSON.parse(O);$(l)}else{var v=O;$(v)}},[O]);var s=function(v){Y==null||Y(v)},i=[].concat(t()(ee),[{title:"\u64CD\u4F5C",valueType:"option",render:function(v,n,X,re){return[(0,B.jsx)("a",{onClick:function(){W(y.filter(function(ue){return ue.id!==n.id}))},children:"\u5220\u9664"},"delete")]}}]);return(0,B.jsx)(I.Z,{columns:i,rowKey:"id",scroll:{y:180},value:y,onChange:W,recordCreatorProps:{newRecordType:"dataSource",position:"bottom",record:function(){return d()({id:Date.now().toString()},m)}},editable:{type:"multiple",editableKeys:z,actionRender:function(v,n,X){return[X.delete]},onValuesChange:function(v,n){s(n)},onChange:Q}})};F.Z=x},88299:function(ae,F,r){r.d(F,{$c:function(){return G},tD:function(){return K}});var K={GET:"blue",POST:"red",PUT:"green",DELETE:"orange"},d={0:{text:"\u5BA1\u6838\u4E2D",status:"default"},2:{text:"\u5DF2\u4E0B\u7EBF",status:"error"},1:{text:"\u5DF2\u4E0A\u7EBF",status:"processing"}},G={0:"\u5BA1\u6838\u4E2D",1:"\u5DF2\u4E0A\u7EBF",2:"\u5DF2\u4E0B\u7EBF"},t={VIP:"red",RECHARGE:"blue"},V={SUCCESS:"\u652F\u4ED8\u6210\u529F",NOTPAY:"\u672A\u652F\u4ED8",CLOSED:"\u5DF2\u53D6\u6D88"},g={WX:"blue",ALIPAY:"green"},I={RECHARGEACTIVITY:"\u5145\u503C\u6D3B\u52A8",RECHARGE:"\u79EF\u5206\u5145\u503C",VIP:"VIP\u4F1A\u5458"}},25779:function(ae,F,r){r.r(F),r.d(F,{default:function(){return me}});var K=r(5574),d=r.n(K),G=r(15009),t=r.n(G),V=r(97857),g=r.n(V),I=r(99289),_=r.n(I),B=r(88299),x=r(63676),H=r(51042),Z=r(90930),O=r(61192),Y=r(35312),m=r(2453),ee=r(66309),N=r(86738),L=r(14726),y=r(67294),W=r(61975),c=r(85893),J={paramName:"",required:"\u662F",type:"string",description:""},z={paramName:"",type:"string",description:""},Q=[{title:"\u53C2\u6570\u540D\u79F0",dataIndex:"paramName",formItemProps:{rules:[{required:!0,whitespace:!0,message:"\u6B64\u9879\u662F\u5FC5\u586B\u9879"}]}},{title:"\u5FC5\u586B",valueType:"select",dataIndex:"required",valueEnum:{\u662F:{text:"\u662F"},\u5426:{text:"\u5426"}},formItemProps:{rules:[{required:!0,whitespace:!0,message:"\u6B64\u9879\u662F\u5FC5\u586B\u9879"}]}},{title:"\u53C2\u6570\u7C7B\u578B",dataIndex:"type",valueEnum:{int:{text:"int"},string:{text:"string"},long:{text:"long"},boolean:{text:"boolean"},double:{text:"double"},object:{text:"object"}},valueType:"select",formItemProps:{rules:[{required:!0,whitespace:!0,message:"\u6B64\u9879\u662F\u5FC5\u586B\u9879"}]}},{title:"\u63CF\u8FF0",dataIndex:"description"}],$=[{title:"\u53C2\u6570\u540D\u79F0",dataIndex:"paramName",formItemProps:{rules:[{required:!0,whitespace:!0,message:"\u6B64\u9879\u662F\u5FC5\u586B\u9879"}]}},{title:"\u53C2\u6570\u7C7B\u578B",dataIndex:"type",valueEnum:{int:{text:"int"},string:{text:"string"},long:{text:"long"},boolean:{text:"boolean"},double:{text:"double"},object:{text:"object"}},valueType:"select",formItemProps:{rules:[{required:!0,whitespace:!0,message:"\u6B64\u9879\u662F\u5FC5\u586B\u9879"}]}},{title:"\u63CF\u8FF0",dataIndex:"description"}],s=[{dataIndex:"id",valueType:"index",hideInTable:!0,key:"id"},{title:"\u63A5\u53E3\u540D\u79F0",dataIndex:"interfaceName",tooltip:"\u63A5\u53E3\u540D\u79F0",valueType:"text",key:"interfaceName",formItemProps:{rules:[{required:!0,message:"\u63A5\u53E3\u540D\u79F0\u4E3A\u5FC5\u586B\u9879"}]},width:"lg"},{title:"\u63A5\u53E3\u5730\u5740",dataIndex:"url",tooltip:"\u63A5\u53E3\u5730\u5740",valueType:"text",formItemProps:{rules:[{required:!0,message:"\u63A5\u53E3\u5730\u5740\u4E3A\u5FC5\u586B\u9879"}]},key:"url",width:"lg"},{title:"\u8BF7\u6C42\u65B9\u6CD5",dataIndex:"method",tooltip:"\u8BF7\u6C42\u65B9\u6CD5",valueType:"radio",key:"method",valueEnum:{GET:{text:"GET"},POST:{text:"POST"},PUT:{text:"PUT"},DELETE:{text:"DELETE"}},formItemProps:{rules:[{required:!0,message:"\u8BF7\u6C42\u65B9\u6CD5\u4E3A\u5FC5\u586B\u9879"}]},width:"lg",colProps:{span:12}},{title:"\u8BF7\u6C42\u793A\u4F8B",key:"requestExample",dataIndex:"requestExample",width:"lg",valueType:"text",colProps:{span:12}},{title:"\u8BF7\u6C42\u53C2\u6570",dataIndex:"requestParams",tooltip:"\u8BF7\u6C42\u53C2\u6570",key:"requestParams",colProps:{span:24},renderFormItem:function(){return(0,c.jsx)(W.Z,{column:Q,defaultNewColumn:J})}},{title:"\u54CD\u5E94\u53C2\u6570",dataIndex:"responseParams",tooltip:"\u54CD\u5E94\u53C2\u6570",key:"responseParams",colProps:{span:24},renderFormItem:function(){return(0,c.jsx)(W.Z,{column:$,defaultNewColumn:z})}},{title:"\u63A5\u53E3\u63CF\u8FF0",key:"description",dataIndex:"description",tooltip:"\u63A5\u53E3\u63CF\u8FF0",width:"lg",valueType:"jsonCode",colProps:{span:12}},{title:"\u8BF7\u6C42\u5934",dataIndex:"requestHeader",width:"lg",valueType:"jsonCode",colProps:{span:12},key:"requestHeader"}],i=r(19632),l=r.n(i),v=r(72645),n=function(a){var p=a.width,f=a.title,j=a.columns,e=a.createModalOpen,q=a.size,ne=a.onOpenChange,C=(0,y.useRef)();return(0,y.useEffect)(function(){C.current&&C.current.resetFields()}),(0,c.jsx)(v.Z,{width:p,title:f,size:q,open:e,formRef:C,autoFocusFirstInput:!0,layoutType:"ModalForm",onOpenChange:ne,onFinish:function(){var k=_()(t()().mark(function T(A){return t()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:a.onSubmit(A);case 1:case"end":return M.stop()}},T)}));return function(T){return k.apply(this,arguments)}}(),grid:!0,rowProps:{gutter:[16,16]},colProps:{span:12},submitter:{render:function(T,A){return[].concat(l()(A),[(0,c.jsx)(L.ZP,{onClick:function(){var M;(M=C.current)===null||M===void 0||M.resetFields()},children:"\u91CD\u7F6E"},"extra-reset")])}},columns:j})},X=n,re=function(a){var p=a.width,f=a.title,j=a.columns,e=a.updateModalOpen,q=a.size,ne=a.onOpenChange,C=a.values,k=(0,y.useRef)();return(0,y.useEffect)(function(){if(k.current){var T;k==null||(T=k.current)===null||T===void 0||T.setFieldsValue(C)}}),(0,c.jsx)(v.Z,{width:p,title:f,size:q,open:e,formRef:k,autoFocusFirstInput:!0,layoutType:"ModalForm",onOpenChange:ne,onFinish:function(){var T=_()(t()().mark(function A(S){return t()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:S.id=C.id,a.onSubmit(S);case 2:case"end":return U.stop()}},A)}));return function(A){return T.apply(this,arguments)}}(),grid:!0,rowProps:{gutter:[16,16]},colProps:{span:12},submitter:{render:function(A,S){return[].concat(l()(S),[(0,c.jsx)(L.ZP,{onClick:function(){var U;(U=k.current)===null||U===void 0||U.resetFields()},children:"\u91CD\u7F6E"},"extra-reset")])}},columns:j})},se=re,ue=function(){var E=_()(t()().mark(function a(p){var f;return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f=m.ZP.loading("\u6B63\u5728\u6DFB\u52A0"),e.prev=1,e.next=4,(0,x.WS)(g()({},p));case 4:return f(),m.ZP.success("\u6DFB\u52A0\u6210\u529F"),e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(1),f(),m.ZP.error("\u64CD\u4F5C\u5931\u8D25\uFF1A"+e.t0.message),e.abrupt("return",!1);case 14:case"end":return e.stop()}},a,null,[[1,9]])}));return function(p){return E.apply(this,arguments)}}(),oe=function(){var E=_()(t()().mark(function a(p){var f;return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f=m.ZP.loading("\u6B63\u5728\u4FEE\u6539"),e.prev=1,e.next=4,(0,x.fW)(g()({},p));case 4:return f(),m.ZP.success("\u4FEE\u6539\u6210\u529F"),e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(1),f(),m.ZP.error("\u64CD\u4F5C\u5931\u8D25\uFF1A"+e.t0.message),e.abrupt("return",!1);case 14:case"end":return e.stop()}},a,null,[[1,9]])}));return function(p){return E.apply(this,arguments)}}(),de=function(){var E=_()(t()().mark(function a(p){var f;return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(f=m.ZP.loading("\u6B63\u5728\u53D1\u5E03"),p){e.next=3;break}return e.abrupt("return",!0);case 3:return e.prev=3,e.next=6,(0,x._2)(g()({},p));case 6:return f(),m.ZP.success("\u53D1\u5E03\u6210\u529F"),e.abrupt("return",!0);case 11:return e.prev=11,e.t0=e.catch(3),f(),m.ZP.error("\u64CD\u4F5C\u5931\u8D25\uFF1A"+e.t0.message),e.abrupt("return",!1);case 16:case"end":return e.stop()}},a,null,[[3,11]])}));return function(p){return E.apply(this,arguments)}}(),ce=function(){var E=_()(t()().mark(function a(p){var f;return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(f=m.ZP.loading("\u6B63\u5728\u4E0B\u7EBF"),p){e.next=3;break}return e.abrupt("return",!0);case 3:return e.prev=3,e.next=6,(0,x.C2)(g()({},p));case 6:return f(),m.ZP.success("\u4E0B\u7EBF\u6210\u529F"),e.abrupt("return",!0);case 11:return e.prev=11,e.t0=e.catch(3),f(),m.ZP.error("\u64CD\u4F5C\u5931\u8D25\uFF1A"+e.t0.message),e.abrupt("return",!1);case 16:case"end":return e.stop()}},a,null,[[3,11]])}));return function(p){return E.apply(this,arguments)}}(),pe=function(){var E=_()(t()().mark(function a(p){var f;return t()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(f=m.ZP.loading("\u6B63\u5728\u5220\u9664"),p){e.next=3;break}return e.abrupt("return",!0);case 3:return e.prev=3,e.next=6,(0,x.gW)(g()({},p));case 6:return f(),m.ZP.success("\u5220\u9664\u6210\u529F"),e.abrupt("return",!0);case 11:return e.prev=11,e.t0=e.catch(3),f(),m.ZP.error("\u64CD\u4F5C\u5931\u8D25\uFF1A"+e.t0.message),e.abrupt("return",!1);case 16:case"end":return e.stop()}},a,null,[[3,11]])}));return function(p){return E.apply(this,arguments)}}(),fe=function(){var a=(0,y.useState)(!1),p=d()(a,2),f=p[0],j=p[1],e=(0,y.useState)(!1),q=d()(e,2),ne=q[0],C=q[1],k=(0,y.useState)(!1),T=d()(k,2),A=T[0],S=T[1],M=(0,y.useState)(!1),U=d()(M,2),he=U[0],Pe=U[1],R=(0,y.useRef)(),_e=(0,y.useState)(),ie=d()(_e,2),ve=ie[0],te=ie[1],ge=(0,y.useState)([]),le=d()(ge,2),Ee=le[0],Ie=le[1],ye=[{dataIndex:"id",valueType:"index",hideInTable:!0,key:"id"},{title:"\u63A5\u53E3\u540D\u79F0",dataIndex:"interfaceName",copyable:!0,valueType:"text",formItemProps:{rules:[{required:!0}]},render:function(b,h){return(0,c.jsx)(Y.Link,{to:"/interface_info/".concat(h.id),children:h.interfaceName},h.id)},ellipsis:!0,key:"interfaceName"},{title:"\u63A5\u53E3\u5730\u5740",dataIndex:"url",valueType:"text",ellipsis:!0,copyable:!0,key:"url",formItemProps:{rules:[{required:!0}]}},{title:"\u8BF7\u6C42\u7C7B\u578B",dataIndex:"method",filters:!0,width:100,onFilter:!0,valueType:"text",key:"method",render:function(b,h){var u;return(0,c.jsx)(ee.Z,{color:B.tD[(u=h==null?void 0:h.method)!==null&&u!==void 0?u:"default"],children:h.method})},valueEnum:{GET:{text:"GET"},POST:{text:"POST"},PUT:{text:"PUT"},DELETE:{text:"DELETE"}}},{title:"\u8BF7\u6C42\u793A\u4F8B",dataIndex:"requestExample",key:"requestExample",valueType:"text",search:!1,copyable:!0,ellipsis:!0},{title:"\u603B\u8C03\u7528\u6B21\u6570",dataIndex:"totalInvokes",valueType:"text",width:90,search:!1,key:"totalInvokes",hideInForm:!0},{title:"\u63CF\u8FF0",dataIndex:"description",valueType:"textarea",copyable:!0,ellipsis:!0,key:"description"},{title:"\u63A5\u53E3\u72B6\u6001",dataIndex:"status",key:"status",width:80,valueEnum:{0:{text:"\u5173\u95ED",status:"Default"},1:{text:"\u5F00\u542F",status:"Processing"}},formItemProps:{rules:[{required:!0}]},hideInForm:!0},{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updateTime",valueType:"dateTime",hideInForm:!0,search:!1,width:150,key:"updateTime"},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",render:function(b,h){return[(0,c.jsx)("a",{onClick:function(){S(!0),te(h)},children:"\u4FEE\u6539"},"update"),h.status===0?(0,c.jsx)("a",{onClick:_()(t()().mark(function u(){var w;return t()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,de(h);case 2:w=P.sent,w&&R.current&&R.current.reload();case 4:case"end":return P.stop()}},u)})),children:"\u53D1\u5E03"},"online"):(0,c.jsx)("a",{style:{color:"red"},onClick:_()(t()().mark(function u(){var w;return t()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,ce(h);case 2:w=P.sent,w&&R.current&&R.current.reload();case 4:case"end":return P.stop()}},u)})),children:"\u4E0B\u7EBF"},"offline"),(0,c.jsx)(N.Z,{title:"\u5220\u9664",description:"\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F",okText:"Yes",cancelText:"No",onConfirm:_()(t()().mark(function u(){var w;return t()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,pe(h);case 2:w=P.sent,w&&R.current&&R.current.reload();case 4:case"end":return P.stop()}},u)})),children:(0,c.jsx)("a",{style:{color:"red"},onClick:_()(t()().mark(function u(){return t()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:te(h);case 1:case"end":return o.stop()}},u)})),children:"\u5220\u9664"},"Remove")},"Delete")]}}];return(0,c.jsxs)(Z._z,{children:[(0,c.jsx)(O.Z,{headerTitle:"\u63A5\u53E3\u7BA1\u7406",actionRef:R,rowKey:"key",search:{labelWidth:120},toolBarRender:function(){return[(0,c.jsxs)(L.ZP,{type:"primary",onClick:function(){C(!0)},children:[(0,c.jsx)(H.Z,{})," \u65B0\u5EFA"]},"primary")]},request:function(){var D=_()(t()().mark(function b(h){var u;return t()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return j(!0),o.next=3,(0,x.Ci)(g()({},h));case 3:if(u=o.sent,!((u==null?void 0:u.code)===0&&u!==null&&u!==void 0&&u.data)){o.next=9;break}return j(!1),o.abrupt("return",{data:(u==null?void 0:u.data.records)||[],success:!0,total:(u==null?void 0:u.data.total)||0});case 9:return o.abrupt("return",{data:[],success:!1,total:0});case 10:case"end":return o.stop()}},b)}));return function(b){return D.apply(this,arguments)}}(),columns:ye}),(0,c.jsx)(X,{title:"\u6DFB\u52A0\u63A5\u53E3",onSubmit:function(){var D=_()(t()().mark(function b(h){var u;return t()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,ue(h);case 2:u=o.sent,u&&(C(!1),R.current&&R.current.reload());case 4:case"end":return o.stop()}},b)}));return function(b){return D.apply(this,arguments)}}(),onCancel:function(){C(!1)},columns:s,createModalOpen:ne,onOpenChange:C,width:"840px"}),(0,c.jsx)(se,{title:"\u7F16\u8F91\u63A5\u53E3",onSubmit:function(){var D=_()(t()().mark(function b(h){var u;return t()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,oe(h);case 2:u=o.sent,u&&(S(!1),te(void 0),R.current&&R.current.reload());case 4:case"end":return o.stop()}},b)}));return function(b){return D.apply(this,arguments)}}(),onCancel:function(){S(!1),he||te(void 0)},columns:s,updateModalOpen:A,onOpenChange:S,values:ve||{},width:"840px"})]})},me=fe},63676:function(ae,F,r){r.d(F,{C2:function(){return W},Ci:function(){return L},Qg:function(){return Z},WS:function(){return _},Wl:function(){return ee},_2:function(){return J},fW:function(){return Q},gW:function(){return x}});var K=r(15009),d=r.n(K),G=r(97857),t=r.n(G),V=r(99289),g=r.n(V),I=r(35312);function _(s,i){return B.apply(this,arguments)}function B(){return B=g()(d()().mark(function s(i,l){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,I.request)("/admin/interfaceInfo/add",t()({method:"POST",headers:{"Content-Type":"application/json"},data:i},l||{})));case 1:case"end":return n.stop()}},s)})),B.apply(this,arguments)}function x(s,i){return H.apply(this,arguments)}function H(){return H=g()(d()().mark(function s(i,l){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,I.request)("/admin/interfaceInfo/delete",t()({method:"POST",headers:{"Content-Type":"application/json"},data:i},l||{})));case 1:case"end":return n.stop()}},s)})),H.apply(this,arguments)}function Z(s,i){return O.apply(this,arguments)}function O(){return O=g()(d()().mark(function s(i,l){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,I.request)("/admin/interfaceInfo/get",t()({method:"GET",params:t()({},i)},l||{})));case 1:case"end":return n.stop()}},s)})),O.apply(this,arguments)}function Y(s,i){return m.apply(this,arguments)}function m(){return m=_asyncToGenerator(_regeneratorRuntime().mark(function s(i,l){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("/admin/interfaceInfo/getInterfaceInfoByUrlAndMethod",_objectSpread({method:"GET",params:_objectSpread({},i)},l||{})));case 1:case"end":return n.stop()}},s)})),m.apply(this,arguments)}function ee(s,i){return N.apply(this,arguments)}function N(){return N=g()(d()().mark(function s(i,l){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,I.request)("/admin/interfaceInfo/invoke",t()({method:"POST",headers:{"Content-Type":"application/json"},data:i},l||{})));case 1:case"end":return n.stop()}},s)})),N.apply(this,arguments)}function L(s,i){return y.apply(this,arguments)}function y(){return y=g()(d()().mark(function s(i,l){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,I.request)("/admin/interfaceInfo/list/page",t()({method:"POST",headers:{"Content-Type":"application/json"},data:i},l||{})));case 1:case"end":return n.stop()}},s)})),y.apply(this,arguments)}function W(s,i){return c.apply(this,arguments)}function c(){return c=g()(d()().mark(function s(i,l){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,I.request)("/admin/interfaceInfo/offline",t()({method:"POST",headers:{"Content-Type":"application/json"},data:i},l||{})));case 1:case"end":return n.stop()}},s)})),c.apply(this,arguments)}function J(s,i){return z.apply(this,arguments)}function z(){return z=g()(d()().mark(function s(i,l){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,I.request)("/admin/interfaceInfo/online",t()({method:"POST",headers:{"Content-Type":"application/json"},data:i},l||{})));case 1:case"end":return n.stop()}},s)})),z.apply(this,arguments)}function Q(s,i){return $.apply(this,arguments)}function $(){return $=g()(d()().mark(function s(i,l){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,I.request)("/admin/interfaceInfo/update",t()({method:"POST",headers:{"Content-Type":"application/json"},data:i},l||{})));case 1:case"end":return n.stop()}},s)})),$.apply(this,arguments)}}}]);
